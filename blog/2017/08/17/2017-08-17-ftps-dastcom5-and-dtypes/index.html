<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="poliastro developer team">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>FTPs, DASTCOM5 and dtypes (SOCIS 2017) | poliastro</title>

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="alternate" type="application/atom+xml" title="poliastro blog atom feed" href="https://www.poliastro.space/feeds/all.atom.xml" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/theme/css/fontello.css"/>
        <style>.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
        <style>body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a {
  color: #007ee5;
  text-decoration: none;
}
a:hover {
  color: #007ee5;
  text-decoration: none;
}
header.main-header {
  background: none repeat scroll 0% 0% #205F29;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  max-width: 1000px;
}
header.main-header .container nav a:hover {
  background-color: #5C881C;
}
header.navbar-default {
  border-bottom: none;
  background-color: #EFEFEF;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #9E9E9E;
  float: right;
}
article header time.left {
  color: #9E9E9E;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 16px;
  margin-bottom: 20px;
  line-height: 1.6em;
  text-align: justify;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 13px;
}
article .meta {
  margin-top: 35px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  display: block;
}
article .meta address:before,
article .meta time:before,
article .meta a.tag:before {
  font-family: 'fontello';
  margin-right: 6px;
}
article .meta address.author {
  float: left;
}
article .meta address:before {
  content: '\e819';
}
article .meta time:before {
  content: '\f133';
}
article .meta div.tags {
  clear: both;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:before {
  content: '\e821';
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  color: #007aa3;
  background: #FFF;
  border: 1px solid #007aa3;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  background: #007aa3;
}
article .meta:after {
  content: "";
  display: table;
  clear: both;
}
.index {
  max-width: 700px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #333;
}
.index article header h2 a:hover {
  color: #007ee5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #5C881C;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #5C881C;
}
.index .pagination a:hover {
  color: #FFF;
  background: #5C881C;
}
.post {
  max-width: 700px;
}
.post h1 {
  font-size: 42px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post p {
  font-size: 18px;
}
.list {
  max-width: 700px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 1em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
		extensions: ["tex2jax.js"],
		jax: ["input/TeX", "output/HTML-CSS"],
		tex2jax: {
			inlineMath: [ ['$','$'], ["\\(","\\)"] ],
			displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
			processEscapes: true
		},
		"HTML-CSS": { fonts: ["TeX"] }
	});
	</script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML">
	</script>

    </head>

    <body>
        <header class="navbar navbar-default bs-docs-nav">
            <div class="container-fluid">
                <div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span> 
		  </button>
                  <a class="navbar-brand" href="/" title="Home" class="title">poliastro</a>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
		    <ul class="nav navbar-nav navbar-right">

                        <!--- DOCS PAGE -->
                            <li><a class="icon-link" href="https://docs.poliastro.space/en/latest/" title="Documentation">Documentation</a></li>

                        <!--- COMMUNITY PAGE -->
                            <li><a class="icon-link" href="http://chat.poliastro.space/" title="Community">Community</a></li>

                        <!--- TUTORIALS PAGE -->
                            <li><a class="icon-link" href="https://beta.mybinder.org/v2/gh/poliastro/poliastro/main?filepath=index.ipynb" title="Tutorials">Tutorials</a></li>

                        <!--- GITHUB PAGE -->
                            <li><a class="icon-github" href="https://github.com/poliastro/poliastro" title="Code">Source Code</a></li>

                        <!--- TWITTER LINK -->
                            <li><a class="icon-twitter" href="http://twitter.com/poliastro_py" title="Twitter">Twitter</a></li>

                        <!--- BLOG PAGE -->
			<li><a href="https://www.poliastro.space/blog/index.html" title="Blog">Blog</a></li>                                    

                        <!--- SHOW ARCHIVES -->
			<li><a href="https://www.poliastro.space/archives.html" title="Archive">Archive</a></li>
			<li><a class="nodec icon-rss" href="https://www.poliastro.space/feeds/all.atom.xml" title="poliastro RSS feed" rel="me"></a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">


<div class="container post">
    <article>
        <header>
            <h1>FTPs, DASTCOM5 and dtypes (SOCIS 2017)</h1>
            <div class="meta">
                <time datetime="article.date.isoformat()" pubdate>Thu 17 August 2017</time>
                <address class="vcard author">By
                    <a class="url fn" href="https://www.poliastro.space/author/antonio-hidalgo-galindo.html">Antonio Hidalgo Galindo</a>
                </address>
            </div>
        </header>

        <div class="article_content">
            <p>In the previous entry, I said that we had found a new database, and we would have to take a closer look to it.</p>
<p>Actually, what I found was a <a href="ftp://ssd.jpl.nasa.gov/pub">JPL public FTP</a>, with lots of data in it (I have barely taken a glance to all the folders that contains, so have fun looking into it :P).</p>
<p>In that FTP, inside <code>ssd</code> folder (Solar System Dynamics, not Solid State Drive), there were several different files, some of them with .DB extension, some of them with .dat extension, and a README.</p>
<p>The README explained some of the files (a few of them are still a mystery), and I quote what it said about a file named <code>dastcom5.zip</code>.</p>
<blockquote>
<p>dastcom5.zip</p>
<p>Link to a a portable/programmable version of the JPL/Horizons 
 database of asteroids and comets ("DASTCOM5"), updated as often 
 as hourly</p>
</blockquote>
<p>Interesting, isn't it?</p>
<p>Well, after a week, I can now assure that this database has been a great discovery, so this week entry will address mainly about it.</p>
<h1>DASTCOM5</h1>
<p>As README says, DASTCOM5 is the name of a JPL-maintained database of asteroids and comets (I think <code>D</code> stands for Database, <code>AST</code> for asteroid, <code>COM</code> for comets, and <code>5</code> is the current version, but I'm not sure haha).
After downloading and unzipping the file that JPL provides, you can see the following folder structure:</p>
<p><img alt="DASTCOM5 folder structure" src="https://www.poliastro.space/images/dastcom5_folder.png" title="DASTCOM5 folder structure"></p>
<p>Fortunately, <code>dastcom5.zip</code> provided a doc folder.</p>
<p>Inside this folder there was a long README (more than 1200 lines) with a lot of information, which I quote below:</p>
<blockquote>
<p>DASTCOM5 is a direct-access binary database. It contains heliocentric 
ecliptic osculating elements for the known asteroids and comets, determined 
by a least-squares orbit solution fit to optical and 
radar astrometric measurements.</p>
<p>[...]</p>
<p>A total of 142 parameters per object are defined.</p>
</blockquote>
<p>So DASTCOM5 format was binary (more difficult than JSON), but it contained 142 parameters. Not bad! Let's continue:</p>
<blockquote>
<p>The DASTCOM5 distribution .zip file archive contains the following:</p>
<ul>
<li>
<p>two binary database files (one holding asteroid data, the second holding
      comet data),</p>
</li>
<li>
<p>a plain-text index (linking all objects to their DASTCOM5 record, 
      permitting look-up based on name, designation, SPK ID, packed MPC 
      designation, and historical aliases), </p>
</li>
<li>
<p>documentation,</p>
</li>
<li>
<p>latest database reader source code (FORTRAN). The software has been 
      tested using GFORTRAN (gfortran), Lahey (lf95), Intel (ifort), and 
      SunStudio (f95) compilers in both 32 and 64-bit builds, under RedHat 
      Linux 4/5/6.</p>
</li>
</ul>
</blockquote>
<p>Apparently, DASTCOM5 provided all of the necessary files for building a module <code>poliastro.neos.dastcom5</code>. We decided to read the two binary databases with Python instead of creating a FORTRAN wrapper, which didn't sound appealing at all.</p>
<p>Therefore, the first task was to read a comet or asteroid binary record, and the chosen tool was <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.fromfile.html">numpy.fromfile()</a>, which, as stated on its docs, needs a known data-type. Fortunately, the extensive DASTCOM5 README had a section named <code>DASTCOM5 BYTE MAP</code> which was really useful.</p>
<p><img alt="DASTCOM5 byte map" src="https://www.poliastro.space/images/dastcom5_map.png" title="DASTCOM5 byte map"></p>
<p>Knowing the number of bytes and type of each variable, the only difficulty was writing it for each of the 142 variables manually.</p>
<p>Once that was done, we were able store the full asteroid or comet database as a numpy array:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">AST_DB_PATH</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">AST_DTYPE</span><span class="p">)</span>
</code></pre></div>

<p>or obtain a single record given a physical record number using:</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">AST_DB_PATH</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">PHYSICAL_RECORD</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">SEEK_SET</span><span class="p">)</span>
    <span class="n">body_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">COM_DTYPE</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<p>However, the problem was that DASTCOM5 physical record didn't correspond to a logical record, such as 433 for Eros, or 900001 for 1P/Halley. So, the next task consisted of reading database headers in order to get information about bias between logical and physical record. The resultant function can be found, as usual, on <a href="https://github.com/poliastro/poliastro/blob/8f2f8a42f1a01610971ef1bfee874d72701bb963/src/poliastro/neos/dastcom5.py#L395">Github</a>.</p>
<p>After dealing with records, it was time to start with the lookup function. As stated above, DASTCOM5 package come with a plain text index file containing names, designations, SPK-IDs, packed MPC designations, and historical aliases.</p>
<p>The file format was sort of CSV, but really ugly to parse, given that alternative designations, alternative SPK-IDs, etc. were all mixed without any order.</p>
<p><img alt="DASTCOM5 index file" src="https://www.poliastro.space/images/dastcom5_index.png" title="DASTCOM5 index file"></p>
<p>Therefore, as the file was plain text, we decided to read line by line the index, comparing with a string passed as argument. Code is on <a href="https://github.com/poliastro/poliastro">Github</a> and anyone is welcome to improve the lookup function as well as any other part of the code :)</p>
<h1>Downloading DASTCOM5</h1>
<p>DASTCOM5 isn't an online API, but an online available file, which you need to download in order to use.
Therefore, poliastro needed to provide a good way to download the database without having to stop Python console.</p>
<p>Unlike previous entry, where we used <code>Request</code> library in order to communicate with the internet, in this module <a href="https://docs.python.org/3/library/urllib.request.html">urllib.request</a> was chosen, since <code>urllib.request.urlretrieve()</code> can be called using a function as an argument, which is called after each block read. That gave us the opportunity of showing download progress, with the following code:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">_show_download_progress</span><span class="p">(</span><span class="n">transferred</span><span class="p">,</span> <span class="n">block</span><span class="p">,</span> <span class="n">totalsize</span><span class="p">):</span>
    <span class="n">trans_mb</span> <span class="o">=</span> <span class="n">transferred</span> <span class="o">*</span> <span class="n">block</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>
    <span class="n">total_mb</span> <span class="o">=</span> <span class="n">totalsize</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1"> MB / </span><span class="si">%.2f</span><span class="s1"> MB&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">trans_mb</span><span class="p">,</span> <span class="n">total_mb</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<p>Also, once the download function was finished, we decided to provide CLI support, adding <code>poliastro --download-dastcom5</code> command.
So, from now, you can download DASTCOM5 database automatically to ~/.poliastro folder either from a Python interpreter or from CLI.</p>
<h1>NeoWs and DASTCOM5</h1>
<p>Both NeoWs and DASTCOM5 are currently part of <code>poliastro.neos</code>, and their functionalities can somehow intersect. But they are completely different in the background, with mainly two differences:</p>
<ul>
<li>
<p>DASTCOM5 database has data about every asteroid and comet in the solar system, but NeoWs is only available for NEAs (Near Earth Asteroids).</p>
</li>
<li>
<p>NeoWs is an online API, but DASTCOM5 has to be downloaded in order to be used (~230 MB).</p>
</li>
</ul>
<p>Therefore, depending on your needs, you will have to decide which one fits you better, considering that both of them can create an <code>Orbit</code> given a name, SPK-ID, etc.</p>
<p>However, the resultant orbits using the two functions are exactly equal, as you can check in the following example using Eros:</p>
<div class="highlight"><pre><span></span><code><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">poliastro.neos</span> <span class="kn">import</span> <span class="n">neows</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Constant</span> <span class="s1">&#39;Earth equatorial radius&#39;</span> <span class="n">already</span> <span class="n">has</span> <span class="n">a</span> <span class="n">definition</span> <span class="ow">in</span> <span class="n">the</span> <span class="kc">None</span> <span class="n">system</span> <span class="p">[</span><span class="n">astropy</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">constant</span><span class="p">]</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Constant</span> <span class="s1">&#39;Jupiter equatorial radius&#39;</span> <span class="n">already</span> <span class="n">has</span> <span class="n">a</span> <span class="n">definition</span> <span class="ow">in</span> <span class="n">the</span> <span class="kc">None</span> <span class="n">system</span> <span class="p">[</span><span class="n">astropy</span><span class="o">.</span><span class="n">constants</span><span class="o">.</span><span class="n">constant</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">poliastro.neos</span> <span class="kn">import</span> <span class="n">dastcom5</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">poliastro.plotting</span> <span class="kn">import</span> <span class="n">OrbitPlotter</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">eros_neows</span> <span class="o">=</span> <span class="n">neows</span><span class="o">.</span><span class="n">orbit_from_name</span><span class="p">(</span><span class="s1">&#39;eros&#39;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">eros_dastcom5</span> <span class="o">=</span> <span class="n">dastcom5</span><span class="o">.</span><span class="n">orbit_from_name</span><span class="p">(</span><span class="s1">&#39;eros&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">6</span><span class="p">]:</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">OrbitPlotter</span><span class="p">()</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">eros_neows</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Eros from NeoWs&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x1e0c0d68940</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x1e0b9a71438</span><span class="o">&gt;</span><span class="p">]</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">frame</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">eros_dastcom5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Eros from DASTCOM5&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x1e0c0e38780</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">at</span> <span class="mh">0x1e0c0e3a8d0</span><span class="o">&gt;</span><span class="p">]</span>
</code></pre></div>

<p><img alt="Eros orbit comparison" src="https://www.poliastro.space/images/eros_comparison.png" title="Eros orbit comparison"></p>
<p>That was all for this week (two weeks actually, sorry for that). Now poliastro has two ways of dealing with NEOs, each one with its advantages and disadvantages, and you can try any of them.
Probably, the next week entry will be about a completely different topic, not exactly related to NEOS, but I can't disclose anything right now :P See you!</p>
        </div>

        <div class="meta">
            <div class="tags">
                    <a href="https://www.poliastro.space/tag/socis.html" class="tag">SOCIS</a>
                    <a href="https://www.poliastro.space/tag/poliastro.html" class="tag">poliastro</a>
                    <a href="https://www.poliastro.space/tag/nasa.html" class="tag">NASA</a>
                    <a href="https://www.poliastro.space/tag/dastcom5.html" class="tag">DASTCOM5</a>
                    <a href="https://www.poliastro.space/tag/apis.html" class="tag">APIs</a>
                    <a href="https://www.poliastro.space/tag/jpl.html" class="tag">JPL</a>
                    <a href="https://www.poliastro.space/tag/mocking.html" class="tag">mocking</a>
            </div>
        </div>
    </article>

  <!-- <script data-isso="//localhost:1234"
        data-isso-lang="en"
        src="//localhost:1234/js/embed.min.js"></script>
<section id="isso-thread">
<h3>Comments</h3>
</section>
 -->

</div>

<style type="text/css">
{
    max-width: 700px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
    max-width: 580px;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

        </div>
<!--
    <footer>
      <p>
        © 2012-2017 poliastro developer team, license <a href="https://github.com/poliastro/poliastro.github.io/blob/sources/LICENSE"> </a>
        unless otherwise noted.
        Generated by <a href= "http://docs.getpelican.com/">Pelican</a>.
      </p>
    </footer>
-->
    </body>
</html>